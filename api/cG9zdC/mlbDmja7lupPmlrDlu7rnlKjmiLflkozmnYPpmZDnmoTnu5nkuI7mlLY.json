{"title":"数据库新建用户和权限的给与收","date":"2018-12-26T09:14:34.000Z","slug":"数据库新建用户和权限的给与收","categories":["数据库"],"updated":"2018-12-26T09:31:18.666Z","content":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">use hrs;</span><br><span class=\"line\">-- 事务：多个数据操作要么全都成功要么全部失败（不可分割）- 一致性问题</span><br><span class=\"line\">start transaction;</span><br><span class=\"line\">begin;</span><br><span class=\"line\"></span><br><span class=\"line\">commit; -- 提交</span><br><span class=\"line\">rollback; -- 回滚</span><br><span class=\"line\"></span><br><span class=\"line\">-- 添加用户和设置密码</span><br><span class=\"line\">create user yh@&apos;%&apos; identified by &apos;123123&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">-- 给用户赋予查询，插入权限</span><br><span class=\"line\">grant select on hrs.* to yh@&apos;%&apos;;</span><br><span class=\"line\">grant insert on hrs.* to yh@&apos;%&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">-- 给用户赋予所有数据库权限，除了grant option</span><br><span class=\"line\">grant all privileges on *.* to yh@&apos;%&apos;;</span><br><span class=\"line\">grant all privileges on *.* to yh@&apos;%&apos; with grant option;</span><br><span class=\"line\"></span><br><span class=\"line\">-- 收回用户所有权限，除了grant option</span><br><span class=\"line\">revoke all privileges on *.* from yh@&apos;%&apos;;</span><br><span class=\"line\"></span><br><span class=\"line\">-- 删除用户</span><br><span class=\"line\">drop user yh@&apos;%&apos;;</span><br></pre></td></tr></table></figure>\n","prev":{"title":"通过Pycharm操作MySQL","slug":"通过Pycharm操作MySQL"},"next":{"title":"MySQL数据库查询","slug":"db-select"},"link":"http://yoursite.com/post/数据库新建用户和权限的给与收/"}