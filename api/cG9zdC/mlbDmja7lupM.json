{"title":"数据库概念与特点","date":"2018-12-24T01:49:48.000Z","slug":"数据库","categories":["数据库"],"updated":"2018-12-24T12:27:58.472Z","content":"<p>数据库 - 实现项目中的数据持久化</p>\n<h1 id=\"数据库的类别：\"><a href=\"#数据库的类别：\" class=\"headerlink\" title=\"数据库的类别：\"></a>数据库的类别：</h1><ul>\n<li><p>关系型数据库 - MySQL</p>\n<p>特点：</p>\n<p>1.理论基础：集合论和关系代数</p>\n<p>2.用二维表来组织数据(行(记录)和列(字段))</p>\n<p>3.SQL - 结构化查询语言：</p>\n<ol>\n<li>DDL (数据定义语言) : crate / drop / alter</li>\n<li>DML (数据操作语言) : insert / delete / update / select</li>\n<li>DCL (数据控制语言) : grant / revoke / commit / rollback</li>\n</ol>\n<p>关系型数据库产品：</p>\n<p>1.Oracle - 甲骨文</p>\n<p>2.MySQL - 甲骨文 - MariaDB</p>\n<p>3.DB2、SQLServer、PostgreSQL、SQLite</p>\n</li>\n<li><p>NoSQL数据库 - Redis</p>\n<p>非关系型数据库产品：</p>\n<p>1.MongoDB - 文档数据库 - 适合量大但是价值低的数据</p>\n<p>2.Redis - KV数据库 - 性能好适合做高速缓存服务</p>\n<p>3.ElasticSearch - 搜索引擎</p>\n</li>\n<li><p>Linux安装软件</p>\n<p>1.包管理工具 - yum / rpm</p>\n<p>Docker - 提供虚拟化服务，创建虚拟化容器并安装软件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install docker-io # 创建</span><br><span class=\"line\">yum -y remove docker-io # 删除</span><br><span class=\"line\">yum info ... # 查看版本</span><br><span class=\"line\">systemctl start docker # 启动</span><br><span class=\"line\">systemctl stop docker # 停止</span><br><span class=\"line\">systemctl restart docker # 重启</span><br><span class=\"line\">systemctl status docker # 查看状态</span><br><span class=\"line\">systemctl enable docker # 开机自启</span><br><span class=\"line\">systemctl disable docker # 开机不自启</span><br></pre></td></tr></table></figure>\n<p>使用Docker命令</p>\n<p>1.查看已经下载的镜像文件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker images</span><br></pre></td></tr></table></figure>\n<p>​</p>\n<p>2.下载MySQL的镜像文件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker pull mysql:5.7</span><br></pre></td></tr></table></figure>\n<p>MySQL数据库超级管理员账号 - root</p>\n<p>Oracle数据库超级管理员账号 - sys</p>\n<p>SQLServer数据库超级管理员账号 - sa</p>\n<p>3.创建并运行容器</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d -p 3306:3306 --name mysql57 -e MYSQL_ROOT_PASSWORD=123456 mysql:5.7</span><br></pre></td></tr></table></figure>\n<p>4.查看运行中的容器</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker ps</span><br></pre></td></tr></table></figure>\n<p>5.查看所有的容器</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker container ls -a</span><br></pre></td></tr></table></figure>\n<p>6.停止运行的容器</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker stop mysql57</span><br></pre></td></tr></table></figure>\n<p>7.启动已经创建的容器</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker start mysql57</span><br></pre></td></tr></table></figure>\n<p>8.删除容器</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker rm -f mysql57 # 强制删除运行中的容器</span><br></pre></td></tr></table></figure>\n<p>​</p>\n<h1 id=\"安装MySQL客户端工具：\"><a href=\"#安装MySQL客户端工具：\" class=\"headerlink\" title=\"安装MySQL客户端工具：\"></a>安装MySQL客户端工具：</h1><p>Navicat for MySQL - 猫</p>\n<p>SQLyog - 海豚</p>\n<p>Toad for MySQL - 蛤蟆</p>\n</li>\n<li><p>替代方案:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install mariadb mariadb-server # 安装mariadb</span><br><span class=\"line\">systemctl start mariadb # 启动mariadb</span><br><span class=\"line\">netstat -nap | grep 3306 # 查看端口</span><br></pre></td></tr></table></figure>\n<h1 id=\"SQL\"><a href=\"#SQL\" class=\"headerlink\" title=\"SQL\"></a>SQL</h1><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">-- SQL(结构化查询语言) 分为三组:</span><br><span class=\"line\">-- 1. DDL (数据定义语言) : crate / drop / alter</span><br><span class=\"line\">-- 2. DML (数据操作语言) :insert / delete /update / select</span><br><span class=\"line\">-- 3. DCL (数据控制语言) : grant / revoke / commit / rollback</span><br><span class=\"line\">-- drop database if exists srs;删除数据库srs</span><br><span class=\"line\">-- 创建名为srs的数据库并设置字符集为utf8</span><br><span class=\"line\">create database srs default charset utf8;</span><br><span class=\"line\">-- 切换到srs数据库</span><br><span class=\"line\">use srs;</span><br><span class=\"line\">-- 创建二维表来装数据</span><br><span class=\"line\">-- 创建学生表tb_student</span><br><span class=\"line\">-- 在学生表中学号可以唯一的标记一条学生的记录，我们通常称这样的列为主键列</span><br><span class=\"line\">create table tb_student(</span><br><span class=\"line\">stuid int not null primary key comment &apos;学号&apos;,</span><br><span class=\"line\">stuname varchar(10) not null comment &apos;姓名&apos;,</span><br><span class=\"line\">stusex bit default 1 comment &apos;性别&apos;,</span><br><span class=\"line\">stubirth date comment &apos;出生日期&apos;,</span><br><span class=\"line\">stuaddr varchar(255) comment &apos;家庭住址&apos;</span><br><span class=\"line\">);</span><br><span class=\"line\">-- 时间和日期datetime,日期date,时间time</span><br><span class=\"line\">-- 修改学生表添加学生电话列</span><br><span class=\"line\">alter table tb_student add column stutel char(11);</span><br><span class=\"line\">-- 删除电话列</span><br><span class=\"line\">alter table tb_student drop column stutel;</span><br><span class=\"line\"></span><br><span class=\"line\">-- 向学生表插入数据</span><br><span class=\"line\">insert into tb_student values (1001,&apos;李四&apos;,1,&apos;2000-1-1&apos;,&apos;北京&apos;);</span><br><span class=\"line\">insert into tb_student(stuid,stuname) values (1002,&apos;小明&apos;);</span><br><span class=\"line\">insert into tb_student values (1003,&apos;小红&apos;,0,null,null);</span><br><span class=\"line\">insert into tb_student values (1004,&apos;张三&apos;,default,null,null);</span><br><span class=\"line\"></span><br><span class=\"line\">-- 删除数据</span><br><span class=\"line\">delete from tb_student where stuid=1002;</span><br><span class=\"line\">delete from tb_student where stuid=1001;</span><br><span class=\"line\">-- 同时删除多个数据</span><br><span class=\"line\">delete from tb_student where stuid&gt;=1003 and stuid&lt;=1004;</span><br><span class=\"line\">delete from tb_student where stuid in (1003,1004);</span><br><span class=\"line\">delete from tb_student where stuid between 1003 and 1004;</span><br><span class=\"line\"></span><br><span class=\"line\">-- 更新数据(一定要带条件)</span><br><span class=\"line\">update tb_student set stubirth=&apos;1999-1-1&apos; where stuid=1002 or stuid=1004;</span><br><span class=\"line\">update tb_student set stuname=&apos;王小美&apos;,stusex=0,stuaddr=&apos;四川&apos; where stuid=1002;</span><br><span class=\"line\">update tb_student set stuaddr=&apos;四川绵阳&apos; where stuaddr is null;</span><br><span class=\"line\">-- 判断为空只能用is null</span><br><span class=\"line\">-- &lt;&gt;不等号</span><br><span class=\"line\"></span><br><span class=\"line\">-- 查询所有的行列</span><br><span class=\"line\">select * from tb_student;</span><br><span class=\"line\"></span><br><span class=\"line\">-- 筛选</span><br><span class=\"line\">select * from tb_student where stusex=1;</span><br><span class=\"line\"></span><br><span class=\"line\">-- 投影</span><br><span class=\"line\">select stuname, stubirth from tb_student;</span><br><span class=\"line\">-- 截断表</span><br><span class=\"line\">-- truncate table tb_student</span><br></pre></td></tr></table></figure>\n<p>crash course   新手</p>\n<p>best practice     最佳实践</p>\n<p>filetype:doc …    怎么搜索</p>\n</li>\n</ul>\n","prev":{"title":"vim-error","slug":"vim-error"},"next":{"title":"git常用指令","slug":"git常用指令"},"link":"http://yoursite.com/post/数据库/","toc":[{"title":"数据库的类别：","id":"数据库的类别：","index":"1"},{"title":"安装MySQL客户端工具：","id":"安装MySQL客户端工具：","index":"2"},{"title":"SQL","id":"SQL","index":"3"}]}